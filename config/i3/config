# {{{ Keys
set $mod Mod4
set $ctrl Control
set $up k
set $down j
set $left h
set $right l
floating_modifier $mod
# }}}

# {{{ Theme
set $font Terminus, FontAwesome 8
font pango:$font
new_window pixel 1
gaps inner 5
smart_gaps on
hide_edge_borders both

                        #border backgr. text    indicator
client.focused          #6f6f6f #6f6f6f #f0dfaf #cc9393
client.unfocused        #3f3f3f #3f3f3f #dcdccc #cc9393
client.focused_inactive #3f3f3f #3f3f3f #dcdccc #cc9393
client.urgent           #dc322f #dc322f #cc9393 #cc9393
# }}}

# {{{ Keybindings
bindsym $mod+Return           exec urxvt
bindsym $mod+d                exec --no-startup-id rofi -show run -lines 5
bindsym $mod+Shift+q          exit
bindsym $mod+Shift+c          kill
bindsym $mod+Shift+r          reload
bindsym $mod+$ctrl+Shift+r    restart
bindsym $mod+$left            focus left
bindsym $mod+$down            focus down
bindsym $mod+$up              focus up
bindsym $mod+$right           focus right
bindsym $mod+Shift+$left      move left
bindsym $mod+Shift+$down      move down
bindsym $mod+Shift+$up        move up
bindsym $mod+Shift+$right     move right
bindsym $mod+i                split h
bindsym $mod+o                split v
bindsym $mod+f                fullscreen toggle
bindsym $mod+s                layout stacking
bindsym $mod+w                layout tabbed
bindsym $mod+e                layout toggle split
bindsym $mod+Shift+space      floating toggle
bindsym $mod+space            focus mode_toggle
bindsym $mod+a                focus parent
bindsym $mod+Shift+a          focus child
bindsym $mod+1                workspace 1:tty
bindsym $mod+2                workspace 2:www
bindsym $mod+3                workspace 3:dev
bindsym $mod+4                workspace 4:opt
bindsym $mod+Shift+1          move container to workspace 1:tty
bindsym $mod+Shift+2          move container to workspace 2:www
bindsym $mod+Shift+3          move container to workspace 3:dev
bindsym $mod+Shift+4          move container to workspace 4:opt
bindsym button4               workspace prev
bindsym button7               workspace next
bindsym $mod+Left             workspace prev
bindsym $mod+Right            workspace next
bindsym XF86AudioRaiseVolume  exec --no-startup-id "amixer -q set Master 2%+ unmute && killall -USR1 i3status"
bindsym XF86AudioLowerVolume  exec --no-startup-id "amixer -q set Master 2%- && killall -USR1 i3status"
bindsym XF86AudioMute         exec --no-startup-id "amixer -q set Master toggle && killall -USR1 i3status"
bindsym XF86AudioPlay         exec --no-startup-id mpc -q toggle
bindsym XF86AudioStop         exec --no-startup-id mpc -q stop
bindsym XF86AudioNext         exec --no-startup-id mpc -q next
bindsym XF86AudioPrev         exec --no-startup-id mpc -q prev
bindsym XF86Sleep             exec --no-startup-id xautolock -locknow
bindsym XF86MonBrightnessUp   exec --no-startup-id xbacklight -inc 5
bindsym XF86MonBrightnessDown exec --no-startup-id xbacklight -dec 5
bindsym $mod+p                exec --no-startup-id rofi-pass
bindsym $ctrl+Shift+l         exec --no-startup-id xautolock -locknow
# }}}

# {{{ Resize mode
bindsym $mod+r mode "resize"
mode "resize" {
    bindsym $left  resize shrink width 20 px or 2 ppt
    bindsym $down  resize grow height 20 px or 2 ppt
    bindsym $up    resize shrink height 20 px or 2 ppt
    bindsym $right resize grow width 20 px or 2 ppt

    bindsym Return mode "default"
    bindsym Escape mode "default"
}
# }}}

# {{{ Bar
bar {
    position top
    status_command ~/.virtualenvs/i3/bin/python ~/.belak/i3/status.py
    strip_workspace_numbers yes

    colors {
        background #3f3f3f
        statusline #dcdccc
        separator  #1e2320

                           #border backgr. text
        focused_workspace  #1e2320 #1e2320 #f0dfaf
        inactive_workspace #3f3f3f #3f3f3f #dcdccc
        urgent_workspace   #3f3f3f #3f3f3f #cc9393
        active_workspace   #323232 #5f676a #ebdbb2
    }
}
# }}}

# {{{ Autostart
exec_always --no-startup-id "xrdb -I$HOME ~/.Xresources"
exec_always --no-startup-id "nitrogen --restore"
exec        --no-startup-id "redshift-gtk"
exec        --no-startup-id "compton --backend glx"
exec        --no-startup-id "dunst -fn 'Terminus 8'"
exec        --no-startup-id "xautolock -time 1 -locker '~/bin/fuzzy-lock'"
exec        --no-startup-id "pasystray"
# }}}
